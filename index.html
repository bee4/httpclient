---
layout: default
title: Bee4/Transport a PHP cURL interface to handle different transports calls
description: "A simple transport client which is designed to perform HTTP, HTTPS, FTP, FTPS, SFTP, SCP calls"
keywords: HTTP, HTTP, HTTPS, FTP, FTPS, SFTP, SCP, PHP, cURL
---

<h3>
	<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
		<span class="octicon octicon-link"></span>
	</a> A new client, why not using something like <a href="http://guzzlephp.org" title="PHP HTTP client and framework for building RESTful web service clients">Guzzle</a> ??
</h3>
<p>This project is a simple transport client which is designed to perform calls using the same API regarding the protocol used. We previously use well known <a href="http://guzzlephp.org" title="PHP HTTP client and framework for building RESTful web service clients">Guzzle</a> client but we also need to perform FTP, FTPS, SFTP requests.</p>

<h3>
	<a name="designer-templates" class="anchor" href="#designer-templates">
		<span class="octicon octicon-link"></span>
	</a> How to use it ?
</h3>

<p>
	This code is built around a fluent interface between the <code>Client</code>, the <code>Request</code> and the <code>Response</code> objects.
</p>
<p>
	You first build a client and define if needed, the start URL point:
</p>
{% highlight PHP %}
<?php $client = new \Bee4\Transport\Client('http://www.example.com'); ?>
{% endhighlight %}

<p>Then you choose an implemented request type and call the client method :</p>
{% highlight PHP %}
<?php
  $request = $client->createRequest('GET', '/endpoint?param1=value'); //GET
  $request = $client->createRequest('POST', '/endpoint/save'); //POST
?>
{% endhighlight %}
<p>If the request type requested does not exists or is not handled, an `Exception` is thrown.</p>
{% highlight PHP %}
<?php $request = $client->createRequest('TOTO', '/endpoint/save'); ?>
{% endhighlight %}
<p>You can also use the `MagicHandler` with it request as a method API :</p>
{% highlight PHP %}
<?php
  //The magic handler use PHP __call method to attach specific
  //transport methods (GET, POST, DELETE) as method name
  $magic = new \Bee4\Transport\MagicHandler($client);
  $request = $magic->delete('/endpoint/id'); //DELETE
?>
{% endhighlight %}

<p>Some requests need a body to be valid (POST, PUT, ...), you can fill the body with the help of the <code>WithBodyTrait</code> which is linked to theses objects:</p>
{% highlight PHP %}
<?php
  $request = $client
    ->createRequest('POST', '/endpoint/save')
    ->setBody('{ "id": 1, "name": "Arthur" }'); //POST
?>
{% endhighlight %}

<p>The exact same code is used to perform all the requests, you just need to give your URL:</p>
{% highlight PHP %}
<?php
  //Downlad a FTP file
  $file = (new \Bee4\Transport\MagicHandler())
    ->get('ftp://serveur.com/file.zip')
    ->send()
    ->getBody();
?>
{% endhighlight %}

<h3>
	<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick">
		<span class="octicon octicon-link"></span>
	</a> Authors and contributors
</h3>

<p>
	This project is built and maintained by <a href="https://github.com/shulard" class="user-mention">@shulard</a>. If you have any questions or issues, please feel free to add issues or submit pull request to this repository.
</p>

<h3><a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with this code? Contact <a href="mailto:dev@bee4.fr">dev@bee4.fr</a> and we'll help you sort it out.</p>
